<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Arrow Function</title>
  </head>
  <body>
    <input type="number" id="txtPrice" placeholder="Product price" /> <br />
    <input type="number" id="txtTaxRate" placeholder="Tax rate" /> <br />
    <input type="number" id="txtDiscountRate" placeholder="Discount rate" />
    <br />
    <button onclick="getPrice()">Get Price</button>

    <script>
      const getPrice = () => {
        const txtPrice = document.querySelector("#txtPrice");
        const txtTaxRate = document.querySelector("#txtTaxRate");
        const txtDiscountRate = document.querySelector("#txtDiscountRate");

        const price = txtPrice.value;
        const taxRate = txtTaxRate.value;
        const discountRate = txtDiscountRate.value;

        if (!price || !taxRate || !discountRate) {
          alert("All fields must be filled");
          return;
        }

        const result = setPrice(
          Number(price),
          Number(taxRate),
          Number(discountRate)
        );
        alert(`The last price is ${result}`);
      };

      const setPrice = (price, taxRate, discountRate) => {
        if (price > 1500) {
          discountRate += 10;
        }

        if (discountRate <= 0) {
          taxRate = 0;
        }

        const totalTax = (price * taxRate) / 100;
        const totalDiscount = (price * discountRate) / 100;
        const total = price - totalDiscount + totalTax;

        return total;
      };
    </script>
  </body>
</html>
